---
layout: base.njk
title: Durban Segnini Gallery
isHome: true
pageCss: hero-index.css
pageScript: carousel.js
---
{% set featuredExhibitions = collections.exhibitions | where("featured", true) | sortByStartingDate('desc') %}
{% set featuredExhibition = featuredExhibitions[0] if featuredExhibitions.length > 0 else null %}
{% set sortedNews = collections.news | sortByDate("desc") %}
{% set latestNews = sortedNews[0] if sortedNews.length > 0 else null %}
<main class="main-wrapper">
{% if featuredExhibitions.length > 0 %}
  {% for exhibition in featuredExhibitions %}
    {% if loop.index <= 3 %}
<section class="hero-wrapper">
  <article class="hero-content">
    <h1 class="section-branded-title">
      <a href="{{ exhibition.url }}">{{ exhibition.data.title }}</a>
    </h1>
    <h2>
      {% if exhibition.data.startingDate and exhibition.data.endingDate %}
        <time datetime="{{ exhibition.data.startingDate }}">{{ exhibition.data.startingDate | formatHumanDate }}</time>
        -
        <time datetime="{{ exhibition.data.endingDate }}">{{ exhibition.data.endingDate | formatHumanDate }}</time>
      {% elif exhibition.data.date_range %}
        {{ exhibition.data.date_range }}
      {% endif %}
    </h2>
    <p>
      {{ exhibition.content | safe }}
    </p>
  </article>
  <div class="hero-image">
    <div class="hero-carousel">
      {% if exhibition.data.photos and exhibition.data.photos.length > 0 %}
        {% for photo in exhibition.data.photos %}
          <img
            src="{{ photo.image or 'https://placehold.co/700x500' }}"
            alt="{{ exhibition.data.title }} - Exhibition Photo {{ loop.index }}"
            class="carousel-image{% if loop.first %} active{% endif %}"
            {% if not loop.first %}loading="lazy"{% endif %}
            data-title="{{ exhibition.data.title }}"
            data-caption="Exhibition Photo {{ loop.index }}"/>
        {% endfor %}
      {% elif exhibition.data.poster %}
        <img
          src="{{ exhibition.data.poster }}"
          alt="{{ exhibition.data.title }} - Exhibition Poster"
          class="carousel-image active"
          data-title="{{ exhibition.data.title }}"
          data-caption="Exhibition Poster"/>
      {% endif %}
    </div>
    <figcaption class="hero-fitcaption"></figcaption>
    <div class="hero-navigation">
      <button class="hero-arrow hero-arrow-prev" aria-label="Previous image">&larr;</button>
      <button class="hero-arrow hero-arrow-next" aria-label="Next image">&rarr;</button>
    </div>
  </div>
</section>
    {% endif %}
  {% endfor %}
{% else %}
      <div class="event-card">
        <div class="event-card-content">
          <h3>No Featured Exhibitions</h3>
          <p>No featured exhibitions are currently available.</p>
        </div>
      </div>
    {% endif %}
  </div>
</section>
<section class="news-wrapper">
  <h2 class="news-title">Current News</h2>
  <div class="news-content">
    {% if latestNews %}
      <p>{{ latestNews.content | safe }}</p>
    {% else %}
      <p>No news available at this time.</p>
    {% endif %}
  </div>
</section>
</main>