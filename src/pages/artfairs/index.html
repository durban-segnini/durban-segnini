---
layout: base.njk
title: Art Fairs
pageScript: picker-utility.js
---

<main class="main-wrapper grid-stack">
  <section class="section-intro">
    <h1 class="section-title">Art Fairs</h1>
    <div class="picker">
      <!-- Picker buttons will be generated dynamically by JavaScript -->
    </div>
  </section>
  
  <section class="event-listing-wrapper">
    {% set artfairsWithYear = collections.artfairs | map("addYearProperty") %}
    {% set artfairs = artfairsWithYear | sort(false, false, "year") | reverse %}
    {% if artfairs.length > 0 %}
      {% for artfair in artfairs %}
        {% set year = artfair.data.year %}
        {% set artists = artfair | getArtistsFromArtFairBody %}
        <div class="event-card" data-year="{{ year }}">
          <div class="h2">{{ year }}</div>
          <div class="event-card-content">
            <h3>{{ artfair.data.title }}</h3>
            {% if artists.length > 0 %}
              <ul>
                {% for artist in artists %}
                  <li>{{ artist }}</li>
                {% endfor %}
              </ul>
            {% endif %}
            {% if artfair.data.location %}
              <p>{{ artfair.data.location }}</p>
            {% endif %}
          </div>
          <div class="event-card-image">
            <figure>
              {% if artfair.data.poster %}
                <img src="{{ artfair.data.poster }}" alt="{{ artfair.data.title }}" />
              {% elif artfair.data.hero_image %}
                <img src="{{ artfair.data.hero_image }}" alt="{{ artfair.data.title }}" />
              {% else %}
                <img src="https://placehold.co/600x400" alt="{{ artfair.data.title }}" />
              {% endif %}
            </figure>
          </div>
        </div>
      {% endfor %}
    {% else %}
      <div class="event-card">
        <div class="event-card-content">
          <h3>No Art Fairs</h3>
          <p>No art fairs are currently available.</p>
        </div>
      </div>
    {% endif %}
  </section>
</main>
